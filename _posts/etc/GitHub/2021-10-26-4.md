---
layout: single
title: "[GitHub 기초] 버전 만들기"
categories: 
    - GitHub
tag:
    - [Git]

toc: true
toc_sticky: true
---

# 버전 만들기 (add, commit)

Git 저장소에 새로운 파일을 추가하거나 변경하는 것으로 새로운 버전을 만들 수 있다. 

저장소에 새로운 파일을 추가하는 가장 간단한 방법은 Git Hub 원격 저장소에 들어가 아래의 화면에서 creating a new file을 이용해 새 파일을 원격 저장소에서 생성하는 방법과 uploading an existing file을 이용해 로컬 저장소에 있는 파일을 원격저장소에 업로드하는 방법이 있다. 

![image](https://user-images.githubusercontent.com/79133730/138819087-6c25a795-8dfc-4e11-a33c-010064655df7.png){: width="50%" .align-center}

## add

복제한 저장소가 들어있는 로컬 저장소 폴더를 열어준다. 앞으로 이 저장소를 우리는 **저장소(로컬)** 이라고 부를 것이며 Git Hub에 만든 원격 저장소는 **저장소(원격)** 또는 **원격 저장소**라고 부를 것이다.

새로운 파일을 만들어보자

![image](https://user-images.githubusercontent.com/79133730/138819436-4c4c08ff-05ac-476d-9d27-163833588df6.png){: width="50%" .align-center}

이제 현재의 상황을 하나의 버전으로 만들 것이다. ex1.txt라는 파일이 하나 있고 해당 파일에는 'git test'라는 텍스트가 저장되어 있는 버전 이라고 생각을 하면 좋을 듯 하다.

버전을 만들기 위해서는 우선 변화가 있는 파일을 하나의 단계(stage)에 추가하고 완성된 단계를 버전으로 저장하여야 한다.

```bash
$ git add ex1.txt
```

위의 명령어를 통해 변경된 파일을 단계에 추가할 수 있다. 명령어의 일반화된 형태는 다음과 같다.

```bash
$ git add '변경된 파일 이름'
```

앞으로 이 작업을 스테이징(staging)이라고 부르고 스테이징이 완료된 단계를 스냅샷(Snapshot)이라 부르자, 즉 우리는 수정한 파일을 스테이징하여 스냅샷을 만들었다.

## commit

commit은 스냅샷을 하나의 버전으로 만들어 영구적인 스냅샷으로 저장하는 과정으로 쉽게 이야기 하자면 스테이징한 파일들로 하나의 버전을 만드는 것이라 할 수 있다. 

commit을 하지 않는다면 스테이징을 하여도 버전으로 저장이 되지 않으므로 commit은 실질적인 버전을 만드는 작업이다.

commit 명령어의 일반화된 형태는 다음과 같다.

```bash
$ git commit #vi editor을 통해 커밋 메시지 작성
$ git commit -m '해당 버전에 대한 커밋 메시지'
```

commit 명령어를 통해 커밋을 진행할 경우 vi 에디터를 이용하여 커밋 메시지를 작성할 수 있다.

vi 에디터의 사용법은 다음 페이지에서 다루도록 하겠다. 

vi 에디터가 불편할 경우 -m 옵션을 통해 쉽게 커밋 메시지를 작성할 수 있다.

주의할 점은 commit은 현재 수정한 사항에 대한 버전을 만드는 것이 아니다!! commit은 스테이징을 완료한 파일들 즉 스냅샷을 하나의 버전으로 만드는 것이므로 commit을 원하는 파일들은 꼭 스테이징을 해주도록 한다.

log 명령어를 통해 commit완료한 버전들을 확인할 수 있다.

```bash
$ git log
```

이것으로 우리는 하나의 버전을 만드는 것에 성공했다.

## push

로컬 저장소에서 버전 관리용 만으로 Git을 사용한다면 push를 공부할 필요는 없다. 하지만 우리는 원격 저장소에 우리가 만든 파일 및 버전 정보를 저장하고 싶으므로 (아마도?) push를 배워보도록 하자.

push는 원격 저장소에 commit을 완료한 버전을 저장해주는 작업이다.

push 명령어의 일반화된 형태는 다음과 같다.

```bash
$ git push (원격저장소 단축 이름) (저장할 branch 이름)
```

여기서 원격 저장소의 이름과  branch의 이름을 알아야 한다. remote 명령어를 이용하면 현재 프로젝트에 연결된 원격 저장소의 목록을 볼 수 있다.

```bash
$ git remote
```

원격 저장소를 복제하면 자동으로 origin이라는 이름으로 원격 저장소가 등록되기 때문에 현재는 origin이라는 이름을 볼 수 있을 것이다.

branch에 대한 설명은 후에 하도록 하고 우선은 'master(또는 main)' branch가 현재 진행중인 작업을 가르킨다고 알아두도록 하자. 

그렇다면 우리가 사용할 push 명령어의 형태는 다음과 같을 것이다.

```bash
$ git push origin master
# git push origin main
```

push 명령어를 실행한 뒤 Git Hub 원격 저장소를 확인해보면 작성한 파일들이 잘 저장된 것을 확인할 수 있다.